<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Bootstrap Example</title>

    <meta charset="utf-8"/>
    <meta name="viewport" message="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <style th:src="@{/css/home.css}" rel="stylesheet"></style>
</head>
<body>

<!--<nav class="navbar navbar-inverse">-->
    <!--<div class="container-fluid">-->
        <!--<div class="navbar-header">-->
            <!--<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">-->
                <!--<span class="icon-bar"></span>-->
                <!--<span class="icon-bar"></span>-->
                <!--<span class="icon-bar"></span>-->
            <!--</button>-->
            <!--<a class="navbar-brand" href="#">Logo</a>-->
        <!--</div>-->
        <!--<div class="collapse navbar-collapse" id="myNavbar">-->
            <!--<ul class="nav navbar-nav">-->
                <!--<li class="active"><a href="#">Home</a></li>-->
                <!--<li><a href="#">About</a></li>-->
                <!--<li><a href="#">Projects</a></li>-->
                <!--<li><a href="#">Contact</a></li>-->
            <!--</ul>-->
            <!--<ul class="nav navbar-nav navbar-right">-->
                <!--<li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>-->
            <!--</ul>-->
        <!--</div>-->
    <!--</div>-->
<!--</nav>-->

<div class="container-fluid text-center">
    <div class="row message">
        <div class="col-sm-2 sidenav">
            <!--<p><a href="#">Link</a></p>-->
            <!--<p><a href="#">Link</a></p>-->
            <!--<p><a href="#">Link</a></p>-->
        </div>

        <div class="col-sm-8 text-left">
            <h2>Tell me a story</h2>
            <form id="storyForm" action="/stories" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="firstname">What is your name?</label>
                    <input type="text" class="form-control" id="firstname" placeholder="First Name" name="firstname"/>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="lastname" placeholder="Last Name" name="lastname"/>
                </div>
                <div class="form-group">
                    <label for="old">How old are you?</label>
                    <input type="number" class="form-control" id="old" placeholder="Old" name="old"/>
                </div>
                <div class="form-group">
                    <label for="email">How can I contact whit you?</label>
                    <input type="email" class="form-control" id="email" placeholder="email" name="email"/>
                </div>
                <div class="form-group">
                    <label for="language">What language is the story written in?</label>
                    <input type="text" class="form-control" id="language" placeholder="Language" name="language"/>
                </div>
                <div class="form-group">
                    <label for="title">How did you name your story?</label>
                    <input type="text" class="form-control" id="title" placeholder="Title" name="title"/>
                </div>
                <div class="form-group">
                    <label for="file">Please send me files only with format .odt .ott .doc. docx .txt .rtf .pdf</label>
                    <input type="file" class="form-control" id="file" name="file"/>
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>
        </div>

        <div class="col-sm-2 sidenav">
            <!--<div class="well">-->
                <!--<p>ADS</p>-->
            <!--</div>-->
            <!--<div class="well">-->
                <!--<p>ADS</p>-->
            <!--</div>-->
        </div>

    </div>
</div>

<script>
    $(document).ready(function () {
        $('#storyForm').submit(function (event) {
            event.preventDefault();

            var form = new FormData($("#storyForm")[0]);
            $.ajax({
                url: '/newStory',
                method: "POST",
                dataType: 'json',
                data: form,
                processData: false,
                contentType: false,
                success: function(result){
                    alert(result.message);
                },
                error: function(er){
                    alert(er.responseJSON.message);
                }
            });
        });
    });
</script>

</body>
</html>